"use strict";(self.webpackChunksocnet=self.webpackChunksocnet||[]).push([[848],{8848:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var o=r(2791),n={Profile:"Profile_Profile__72WZQ",user:"Profile_user__IPBVM",left:"Profile_left__757fi",avatar:"Profile_avatar__28yBI",name:"Profile_name__XHB5K",about:"Profile_about__Fu2hs",job:"Profile_job__c2UNi",contact:"Profile_contact__PiaJn",title:"Profile_title__cDrI-",form:"Profile_form__kkSZz",textarea:"Profile_textarea__uC2wd",btn:"Profile_btn__xkJ1m",post:"Profile_post__6eHwe",postAvatar:"Profile_postAvatar__5HJ-x",text:"Profile_text__lnKJA",postBox:"Profile_postBox__z6w7U",likeBtn:"Profile_likeBtn__akHmO",likes:"Profile_likes__8C57l",followbtn:"Profile_followbtn__M19+A"},s=r(364),i=r(8308),a=r(885),l=r(1153),c="Status_statusBox__Bqyz8",u="Status_editable__DhYzb",f="Status_status__rJ2po",d="Status_error__wjohR",p="Status_empty__YIKZ-",h=r(184),m=function(e){var t=(0,o.useState)(""),r=(0,a.Z)(t,2),n=r[0],s=r[1],i=(0,o.useState)(!1),m=(0,a.Z)(i,2),_=m[0],x=m[1],b=(0,o.useState)(!1),y=(0,a.Z)(b,2),j=y[0],v=y[1];(0,o.useEffect)((function(){s(e.status)}),[e]);return(e.status||!e.readOnly)&&(0,h.jsxs)("div",{className:e.readOnly?c:"".concat(c," ").concat(u),onDoubleClick:function(){e.readOnly||x((function(e){return!e}))},children:[_?(0,h.jsx)("input",{type:"text",value:n,onChange:function(e){s(e.target.value),v(!(0,l.qB)(e.target.value))},onBlur:function(t){var r=(0,l.qB)(t.target.value);r&&(s(e.status),x((function(e){return!e}))),e.status!==n&&r&&e.changeStatus(t.target.value),(0,l.qB)(t.target.value)||v(!0)},autoFocus:!0}):(0,h.jsxs)("p",{className:f,children:[n,0===n.length&&!e.readOnly&&(0,h.jsx)("span",{className:p,children:"Click to set the status..."})]}),j&&(0,h.jsx)("p",{className:d,children:"Status must container letters or numbers and not exceed 300 characters"})]})},_=function(e){var t=[];for(var r in e.profile.contacts)t.push(e.profile.contacts[r]&&(0,h.jsxs)("p",{className:n.contact,children:[r,": ",(0,h.jsx)("span",{children:e.profile.contacts[r]})]},r));return(0,h.jsxs)("div",{className:n.user,children:[(0,h.jsxs)("div",{className:n.left,children:[(0,h.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:i,alt:"User Avatar",className:n.avatar}),e.myId!==e.profile.userId&&e.profile.followed&&(0,h.jsx)("button",{onClick:function(){return e.unfollowUser(e.profile.userId)},className:n.followbtn,disabled:e.followDisabled,children:"Unfollow"}),e.myId!==e.profile.userId&&!1===e.profile.followed&&(0,h.jsx)("button",{onClick:function(){return e.followUser(e.profile.userId)},disabled:e.followDisabled,className:n.followbtn,children:"Follow"})]}),(0,h.jsxs)("div",{className:n.right,children:[(0,h.jsx)("h1",{className:n.name,children:e.profile.fullName}),(0,h.jsx)(m,{status:e.profile.status,readOnly:e.myId!==e.profile.userId,changeStatus:e.changeStatus}),(0,h.jsx)("p",{className:n.about,children:e.profile.aboutMe}),e.profile.lookingForAJob&&(0,h.jsx)("p",{className:n.job,children:"Looking for a job"}),t]})]})},x=r(6139),b=r(704),y=r(9005),j=(0,l.bq)(500),v=(0,b.Z)({form:"posts"})((function(e){var t=e.handleSubmit;return(0,h.jsxs)("form",{className:n.form,onSubmit:t,children:[(0,h.jsx)(x.Z,{placeholder:"Write your post here...",className:n.textarea,name:"post",component:y.Z,validate:[j]}),(0,h.jsx)("button",{className:n.btn,type:"submit",children:"Add Post"})]})})),g=function(e){return(0,h.jsxs)("div",{className:n.post,children:[(0,h.jsx)("img",{src:i,alt:"user avatar",className:n.postAvatar}),(0,h.jsx)("p",{className:n.text,children:e.post.text}),(0,h.jsxs)("div",{className:n.postBox,children:[(0,h.jsx)("button",{onClick:function(){return e.likePost(e.post.id)},className:n.likeBtn,children:"Like"}),(0,h.jsxs)("p",{className:n.likes,children:[e.post.likes," Likes"]})]})]})},P=o.memo((function(e){return(0,h.jsxs)("div",{className:n.Posts,children:[(0,h.jsx)("h2",{className:n.title,children:"MyPosts"}),(0,h.jsx)(v,{onSubmit:function(t){return e.addPost(t.post)}}),e.posts.map((function(t){return(0,h.jsx)(g,{post:t,likePost:e.likePost},t.id)})).reverse()]})})),w=r(3268),Z=r(7781),k=r(6508),N=r(8419),S=r(6871),I=r(5671),B=r(3144),A=r(136),O=r(5716),C="withErrorBoundary_error__tfdn7",U=function(e){(0,A.Z)(r,e);var t=(0,O.Z)(r);function r(e){var o;return(0,I.Z)(this,r),(o=t.call(this,e)).state={hasError:!1},o}return(0,B.Z)(r,[{key:"render",value:function(){return this.state.hasError?(0,h.jsx)("h1",{className:C,children:"An error occured ..."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(o.Component),D=(0,Z.qC)(w.Z,(0,s.$j)((function(e){return{profile:e.profile.profile,followDisabled:e.profile.followDisabled,posts:e.profile.posts,myId:e.auth.profile.id,isFetching:e.profile.isFetching}}),{setProfile:k.Xc,changeStatus:k.sH,addPost:k.Q_,likePost:k.T9,followUser:k.qh,unfollowUser:k.$1}))((function(e){var t=parseInt((0,S.UO)()["*"],10);return(0,o.useEffect)((function(){(!e.profile||e.profile.userId!==(t||e.myId))&&(t||e.myId)&&e.setProfile(t||e.myId)}),[e.myId,t]),(0,h.jsxs)("div",{className:n.Profile,children:[e.isFetching&&(0,h.jsx)(N.Z,{isFetching:e.isFetching}),e.profile&&(0,h.jsx)(_,{myId:e.myId,profile:e.profile,changeStatus:e.changeStatus,followUser:e.followUser,unfollowUser:e.unfollowUser,followDisabled:e.followDisabled}),e.profile&&!t&&(0,h.jsx)(U,{children:(0,h.jsx)(P,{posts:e.posts,addPost:e.addPost,likePost:e.likePost})})]})}))},9005:function(e,t,r){r.d(t,{Z:function(){return c}});var o=r(8683),n=r(5987),s="Textarea_container__8xwgg",i="Textarea_error__Zh8jH",a=r(184),l=["input","meta"],c=function(e){var t=e.input,r=e.meta,c=(0,n.Z)(e,l);return(0,a.jsxs)("div",{className:s,children:[r.error&&0===r.error.code&&r.touched&&!r.active&&(0,a.jsx)("p",{className:i,children:r.error.message}),r.error&&1===r.error.code&&(0,a.jsx)("p",{className:i,children:r.error.message}),r.error&&2===r.error.code&&r.touched&&!r.active&&(0,a.jsx)("p",{className:i,children:r.error.message}),(0,a.jsx)("textarea",(0,o.Z)((0,o.Z)({},t),c))]})}},3268:function(e,t,r){var o=r(8683),n=r(5671),s=r(3144),i=r(136),a=r(5716),l=r(2791),c=r(364),u=r(6871),f=r(184);t.Z=function(e){var t=function(t){(0,i.Z)(l,t);var r=(0,a.Z)(l);function l(){return(0,n.Z)(this,l),r.apply(this,arguments)}return(0,s.Z)(l,[{key:"render",value:function(){return!1===this.props.isAuth?(0,f.jsx)(u.Fg,{to:"/login"}):(0,f.jsx)(e,(0,o.Z)({},this.props))}}]),l}(l.Component);return(0,c.$j)((function(e){return{isAuth:e.auth.isAuth}}))(t)}},1153:function(e,t,r){r.d(t,{Kb:function(){return i},Le:function(){return n},bq:function(){return s},qB:function(){return o}});var o=function(e){if("string"===typeof e)return/[a-zA-Z1-9]/.test(e)||0===e.length},n=function(e){if(!e||!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e))return{code:4,message:"Invalid email address"}},s=function(e){return function(t){return t?t&&t.length>e?{code:1,message:"Max length: ".concat(e," characters !")}:t&&!/[a-zA-Z1-9]/.test(t)?{code:2,message:"Value must contain numbers or letters !"}:void 0:{code:0,message:"Value mustn't be empty !"}}},i=function(e){return e&&e.length<4?{code:2,message:"Min length is 4 characters !"}:e&&e.length>35?{code:3,message:"Max length is 35 characters !"}:e&&!/[a-zA-Z]/.test(e)?{code:1,message:"Value must contain letters !"}:e?void 0:{code:0,message:"This field is required"}}},5671:function(e,t,r){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return o}})},5716:function(e,t,r){function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}r.d(t,{Z:function(){return i}})},136:function(e,t,r){r.d(t,{Z:function(){return n}});var o=r(9611);function n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,o.Z)(e,t)}}}]);
//# sourceMappingURL=848.06ee89dc.chunk.js.map
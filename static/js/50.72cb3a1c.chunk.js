"use strict";(self.webpackChunksocnet=self.webpackChunksocnet||[]).push([[50],{4050:function(e,s,n){n.r(s),n.d(s,{default:function(){return F}});var r=n(1413),t=n(2791),a={Users:"Users_Users__zvmEZ",title:"Users_title__lbiuH",user:"Users_user__vN0B6",left:"Users_left__gbuse",right:"Users_right__G5NM-",avatar:"Users_avatar__GtwbB",btn:"Users_btn__5mDga",name:"Users_name__jrkaf",id:"Users_id__fa8Z+",link:"Users_link__h6lgG"},i=n(8419),u=n(4942),l=n(885),c="Pagination_Pagination__Bza7y",o="Pagination_pages__m-mZl",f="Pagination_page__F6HQ5",d="Pagination_active__OYbZo",h="Pagination_dots__63iOc",_="Pagination_btn__dDtol",g=function(e,s){var n=[];if(s<=10)for(var r=1;r<=s;r++)n.push(r);else if(e<9){for(var t=1;t<10;t++)n.push(t);n.push(!1),n.push(s)}else if(e>s-8){n.push(1),n.push(!1);for(var a=s-8;a<=s;a++)n.push(a)}else{n.push(1),n.push(!1);for(var i=e-3;i<=e+3;i++)n.push(i);n.push(!1),n.push(s)}return n},m=n(1694),b=n.n(m),p=n(184),j=function(e){var s=e.numberOfPages,n=e.currentPage,r=e.changePage,a=(0,t.useState)(n),i=(0,l.Z)(a,2),m=i[0],j=i[1];(0,t.useEffect)((function(){j(n)}),[n]);var U=g(m,s);return(0,p.jsxs)("div",{className:c,children:[m>8&&(0,p.jsx)("button",{onClick:function(){j((function(e){return e-10<0?1:e-10}))},className:_,children:"<<"}),(0,p.jsx)("div",{className:o,children:U.map((function(e,s){return e?(0,p.jsx)("button",{onClick:function(){return r(e)},className:b()(f,(0,u.Z)({},d,e===n)),children:e},e):(0,p.jsx)("span",{className:h,children:"..."},s-.5)}))}),m+7<s&&(0,p.jsx)("button",{onClick:function(){j((function(e){return e+10>s?s:e+10}))},className:_,children:">>"})]})},U=n(5987),v=n(3504),x=n(8308),P=["user"],N=function(e){var s=e.user,n=(0,U.Z)(e,P);return(0,p.jsxs)("div",{className:a.user,children:[(0,p.jsxs)("div",{className:a.left,children:[(0,p.jsx)(v.rU,{to:"/profile/".concat(s.id),className:a.link,children:(0,p.jsx)("img",{src:s.photos.large?s.photos.large:x,alt:"User avatar",className:a.avatar})}),s.followed&&n.isAuth&&(0,p.jsx)("button",{onClick:function(){return n.unfollowUser(s.id)},className:a.btn,disabled:n.disabled.includes(s.id),children:"Unfollow"}),!s.followed&&n.isAuth&&(0,p.jsx)("button",{onClick:function(){return n.followUser(s.id)},disabled:n.disabled.includes(s.id),className:a.btn,children:"Follow"})]}),(0,p.jsxs)("div",{className:a.right,children:[(0,p.jsx)(v.rU,{to:"/profile/".concat(s.id),className:a.link,children:(0,p.jsx)("h2",{className:a.name,children:s.name})}),(0,p.jsx)("p",{className:a.id,children:s.id})]})]})},w=function(e){return(0,p.jsxs)("div",{className:a.Users,children:[(0,p.jsx)("h1",{className:a.title,children:"Users"}),(0,p.jsx)(i.Z,{isFetching:e.isFetching}),(0,p.jsx)(j,{numberOfPages:e.numberOfPages,currentPage:e.current,changePage:e.toPage}),(0,p.jsx)("div",{className:a.usersList,children:e.users.map((function(s){return(0,p.jsx)(N,{user:s,isAuth:e.isAuth,unfollowUser:e.unfollowUser,disabled:e.disabled,followUser:e.followUser},s.id)}))})]})},k=n(364),O=n(6871),Z=n(946),C=function(e){return e.users.currentPage},F=(0,k.$j)((function(e){return{users:e.users.users,numberOfPages:e.users.numberOfPages,isFetching:e.users.fetchingUsers,current:C(e),defaultPage:e.users.defaultPage,defaultCount:e.users.defaultCount,disabled:e.users.disabledFollow,isAuth:e.auth.isAuth}}),{setUsers:Z.zQ,followUser:Z.P$,unfollowUser:Z.km})((function(e){var s=(0,O.s0)(),n=parseInt((0,O.UO)()["*"],10);return(0,t.useEffect)((function(){n&&n!==e.current&&e.setUsers(n,e.defaultCount)})),n?(0,p.jsx)(w,(0,r.Z)((0,r.Z)({},e),{},{toPage:function(e){return s("".concat(e))}})):e.current?(0,p.jsx)(O.Fg,{to:"/users/".concat(e.current)}):(0,p.jsx)(O.Fg,{to:"/users/".concat(e.defaultPage)})}))},5987:function(e,s,n){n.d(s,{Z:function(){return t}});var r=n(3366);function t(e,s){if(null==e)return{};var n,t,a=(0,r.Z)(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],s.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}}}]);
//# sourceMappingURL=50.72cb3a1c.chunk.js.map
{"version":3,"file":"static/js/50.7757549b.chunk.js","mappings":"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","sources":["webpack://socnet/./src/components/Users/Users.module.scss?b204","webpack://socnet/./src/components/common/Pagination/Pagination.module.scss?9a07","utilites/paginator.js","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Users\":\"Users_Users__zvmEZ\",\"title\":\"Users_title__lbiuH\",\"user\":\"Users_user__vN0B6\",\"left\":\"Users_left__gbuse\",\"right\":\"Users_right__G5NM-\",\"avatar\":\"Users_avatar__GtwbB\",\"btn\":\"Users_btn__5mDga\",\"name\":\"Users_name__jrkaf\",\"id\":\"Users_id__fa8Z+\",\"link\":\"Users_link__h6lgG\"};","// extracted by mini-css-extract-plugin\nexport default {\"Pagination\":\"Pagination_Pagination__Bza7y\",\"pages\":\"Pagination_pages__m-mZl\",\"page\":\"Pagination_page__F6HQ5\",\"active\":\"Pagination_active__OYbZo\",\"dots\":\"Pagination_dots__63iOc\",\"btn\":\"Pagination_btn__dDtol\"};","let paginator = (current, total)=> {\r\n    const pages = [];\r\n    if (total <= 10) {\r\n      for (let i = 1; i <= total; i++) pages.push(i);\r\n    } \r\n    \r\n    //&& total > 10\r\n    else if (current < 9) {\r\n      for (let i = 1; i < 10; i++) pages.push(i);\r\n      pages.push(false);\r\n      pages.push(total);\r\n    } \r\n    \r\n    \r\n    //total > 100 && current >= 9\r\n    else if (current > total - 8) {\r\n      pages.push(1);\r\n      pages.push(false);\r\n      for (let i = total-8; i <= total; i++) pages.push(i);\r\n    } \r\n    \r\n    \r\n    \r\n    \r\n    else {\r\n      pages.push(1);\r\n      pages.push(false);\r\n      for (let i = current-3; i <= current + 3; i++) pages.push(i);\r\n      pages.push(false);\r\n      pages.push(total);\r\n    }\r\n    // Result\r\n    return pages;\r\n}\r\n\r\nexport default paginator","import s from \"./Pagination.module.scss\";\r\nimport paginator from \"../../../utilites/paginator\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Pagination = ({ numberOfPages, currentPage, changePage }) => {\r\n  // Position of pagination\r\n  let [position, setPosition] = useState(currentPage);\r\n\r\n  useEffect(()=> {\r\n    setPosition(currentPage)\r\n  }, [currentPage]);\r\n\r\n  // Pages array\r\n  let pages = paginator(position, numberOfPages);\r\n  // onPrev\r\n  let incrementPosition = () => {\r\n    setPosition(pos => pos + 10 > numberOfPages ? numberOfPages : pos + 10);\r\n  }\r\n  // onNext\r\n  let decrementPosition = () => {\r\n    setPosition(pos => pos - 10 < 0 ? 1 : pos - 10);\r\n  }\r\n  return (\r\n    <div className={s.Pagination}>\r\n      {position > 8 && <button onClick={decrementPosition} className={s.btn}>&lt;&lt;</button>}\r\n      <div className={s.pages}>\r\n      {pages.map((page, index) => {\r\n        return page ? (\r\n          <button\r\n            onClick={()=> changePage(page)}\r\n            key={page}\r\n            className={page === currentPage ? `${s.page} ${s.active}` : s.page}\r\n          >\r\n            {page}\r\n          </button>\r\n        ) : (\r\n          <span key={index - 0.5} className={s.dots}>\r\n            ...\r\n          </span>\r\n        );\r\n      })}\r\n      </div>\r\n      {position + 7 < numberOfPages && <button onClick={incrementPosition} className={s.btn}>&gt;&gt;</button>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import s from \"./Users.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport avatar from \"../../assets/avatar.png\";\r\n\r\nconst User = ({ user, ...props }) => {\r\n  return (\r\n    <div className={s.user}>\r\n      <div className={s.left}>\r\n        <Link to={`/profile/${user.id}`} className={s.link}>\r\n          <img\r\n            src={user.photos.large ? user.photos.large : avatar}\r\n            alt=\"User avatar\"\r\n            className={s.avatar}\r\n          />\r\n        </Link>\r\n        {user.followed && props.isAuth && (\r\n          <button\r\n            onClick={() => props.unfollowUser(user.id)}\r\n            className={s.btn}\r\n            disabled={props.disabled.includes(user.id)}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        )}\r\n        {!user.followed && props.isAuth && (\r\n          <button\r\n            onClick={() => props.followUser(user.id)}\r\n            disabled={props.disabled.includes(user.id)}\r\n            className={s.btn}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className={s.right}>\r\n        <Link to={`/profile/${user.id}`} className={s.link}>\r\n          <h2 className={s.name}>{user.name}</h2>\r\n        </Link>\r\n        <p className={s.id}>{user.id}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import s from \"./Users.module.scss\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div className={s.Users}>\r\n      <h1 className={s.title}>Users</h1>\r\n      <Preloader isFetching={props.isFetching} />\r\n      <Pagination numberOfPages={props.numberOfPages} currentPage={props.current} changePage={props.toPage}/>\r\n\r\n      <div className={s.usersList}>\r\n        {props.users.map((user) => {\r\n          return (\r\n            <User\r\n              key={user.id}\r\n              user={user}\r\n              isAuth={props.isAuth}\r\n              unfollowUser={props.unfollowUser}\r\n              disabled={props.disabled}\r\n              followUser={props.followUser}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export let getCurrent = state => state.users.currentPage","import React, { useEffect } from \"react\";\r\nimport Users from \"./Users\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate, useNavigate, useParams } from \"react-router-dom\";\r\nimport { setUsersThunk as setUsers, followThunk as followUser, unfollowThunk as unfollowUser } from \"../../redux/usersReducer\";\r\nimport { getCurrent} from \"../../redux/users-selectors\";\r\n\r\nconst UsersContainer = (props)=> {\r\n  let changePage = useNavigate()\r\n  const urlId = parseInt(useParams()['*'], 10);\r\n  useEffect(()=> {\r\n    urlId && urlId !== props.current && props.setUsers(urlId, props.defaultCount)\r\n  })\r\n    return urlId ? (\r\n      <Users {...props} toPage={(page)=> changePage(`${page}`)} />\r\n    ) : (\r\n      !props.current ? <Navigate to={`/users/${props.defaultPage}`} /> : <Navigate to={`/users/${props.current}`} />\r\n    );\r\n  \r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users.users,\r\n    numberOfPages: state.users.numberOfPages,\r\n    isFetching: state.users.fetchingUsers,\r\n    current: getCurrent(state),\r\n    defaultPage: state.users.defaultPage,\r\n    defaultCount: state.users.defaultCount,\r\n    disabled: state.users.disabledFollow,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    setUsers,\r\n    followUser,\r\n    unfollowUser\r\n  })(UsersContainer);\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"names":["current","total","pages","i","push","numberOfPages","currentPage","changePage","useState","position","setPosition","useEffect","paginator","className","s","onClick","pos","map","page","index","user","props","to","id","src","photos","large","avatar","alt","followed","isAuth","unfollowUser","disabled","includes","followUser","name","Preloader","isFetching","toPage","users","getCurrent","state","connect","fetchingUsers","defaultPage","defaultCount","disabledFollow","auth","setUsers","useNavigate","urlId","parseInt","useParams","_objectWithoutProperties","source","excluded","key","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}
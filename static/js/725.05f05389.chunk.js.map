{"version":3,"file":"static/js/725.05f05389.chunk.js","mappings":"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","sources":["webpack://socnet/./src/components/Users/Users.module.scss?b204","webpack://socnet/./src/components/common/Pagination/Pagination.module.scss?9a07","utilites/paginator.js","components/common/Pagination/Pagination.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.js","components/Users/UsersContainer.tsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Users\":\"Users_Users__zvmEZ\",\"title\":\"Users_title__lbiuH\",\"user\":\"Users_user__vN0B6\",\"left\":\"Users_left__gbuse\",\"right\":\"Users_right__G5NM-\",\"avatar\":\"Users_avatar__GtwbB\",\"btn\":\"Users_btn__5mDga\",\"name\":\"Users_name__jrkaf\",\"id\":\"Users_id__fa8Z+\",\"link\":\"Users_link__h6lgG\"};","// extracted by mini-css-extract-plugin\nexport default {\"Pagination\":\"Pagination_Pagination__Bza7y\",\"pages\":\"Pagination_pages__m-mZl\",\"page\":\"Pagination_page__F6HQ5\",\"active\":\"Pagination_active__OYbZo\",\"dots\":\"Pagination_dots__63iOc\",\"btn\":\"Pagination_btn__dDtol\"};","let paginator = (current, total)=> {\r\n    const pages = [];\r\n    if (total <= 10) {\r\n      for (let i = 1; i <= total; i++) pages.push(i);\r\n    } \r\n    \r\n    //&& total > 10\r\n    else if (current < 9) {\r\n      for (let i = 1; i < 10; i++) pages.push(i);\r\n      pages.push(false);\r\n      pages.push(total);\r\n    } \r\n    \r\n    \r\n    //total > 100 && current >= 9\r\n    else if (current > total - 8) {\r\n      pages.push(1);\r\n      pages.push(false);\r\n      for (let i = total-8; i <= total; i++) pages.push(i);\r\n    } \r\n    \r\n    \r\n    \r\n    \r\n    else {\r\n      pages.push(1);\r\n      pages.push(false);\r\n      for (let i = current-3; i <= current + 3; i++) pages.push(i);\r\n      pages.push(false);\r\n      pages.push(total);\r\n    }\r\n    // Result\r\n    return pages;\r\n}\r\n\r\nexport default paginator","import React from \"react\";\r\nimport s from \"./Pagination.module.scss\";\r\nimport paginator from \"../../../utilites/paginator\";\r\nimport { useEffect, useState } from \"react\";\r\nimport cn from \"classnames\";\r\n\r\ntype PropsType = {\r\n  numberOfPages: number\r\n  currentPage: number\r\n  changePage: (page:number)=> void\r\n}\r\n\r\n\r\nconst Pagination:React.FC<PropsType> = ({ numberOfPages, currentPage, changePage }:PropsType) => {\r\n  // Position of pagination\r\n  let [position, setPosition] = useState(currentPage);\r\n\r\n  useEffect(()=> {\r\n    setPosition(currentPage)\r\n  }, [currentPage]);\r\n\r\n  // Pages array\r\n  let pages:Array<number> = paginator(position, numberOfPages);\r\n  // onPrev\r\n  let incrementPosition = () => {\r\n    setPosition(pos => pos + 10 > numberOfPages ? numberOfPages : pos + 10);\r\n  }\r\n  // onNext\r\n  let decrementPosition = () => {\r\n    setPosition(pos => pos - 10 < 0 ? 1 : pos - 10);\r\n  }\r\n  return (\r\n    <div className={s.Pagination}>\r\n      {position > 8 && <button onClick={decrementPosition} className={s.btn}>&lt;&lt;</button>}\r\n      <div className={s.pages}>\r\n      {pages.map((page:number, index:number) => {\r\n        return page ? (\r\n          <button\r\n            onClick={()=> changePage(page)}\r\n            key={page}\r\n            className={cn(s.page, {[s.active]: page === currentPage})}\r\n          >\r\n            {page}\r\n          </button>\r\n        ) : (\r\n          <span key={index - 0.5} className={s.dots}>\r\n            ...\r\n          </span>\r\n        );\r\n      })}\r\n      </div>\r\n      {position + 7 < numberOfPages && <button onClick={incrementPosition} className={s.btn}>&gt;&gt;</button>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import s from \"./Users.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport avatar from \"../../assets/avatar.png\";\r\nimport { UserType } from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n  user:UserType\r\n  key: number\r\n  isAuth: boolean\r\n  unfollowUser: Function\r\n  disabled: number[] | []\r\n  followUser: Function\r\n}\r\n\r\nconst User:React.FC<PropsType> = ({ user, ...props }) => {\r\n  return (\r\n    <div className={s.user}>\r\n      <div className={s.left}>\r\n        <Link to={`/profile/${user.id}`} className={s.link}>\r\n          <img\r\n            src={user.photos.large ? user.photos.large : avatar}\r\n            alt=\"User avatar\"\r\n            className={s.avatar}\r\n          />\r\n        </Link>\r\n        {user.followed && props.isAuth && (\r\n          <button\r\n            onClick={() => props.unfollowUser(user.id)}\r\n            className={s.btn}\r\n            disabled={props.disabled.includes(user.id)}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        )}\r\n        {!user.followed && props.isAuth && (\r\n          <button\r\n            onClick={() => props.followUser(user.id)}\r\n            disabled={props.disabled.includes(user.id)}\r\n            className={s.btn}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className={s.right}>\r\n        <Link to={`/profile/${user.id}`} className={s.link}>\r\n          <h2 className={s.name}>{user.name}</h2>\r\n        </Link>\r\n        <p className={s.id}>{user.id}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import s from \"./Users.module.scss\";\r\nimport Preloader from \"../common/Preloader/Preloader.tsx\";\r\nimport Pagination from \"../common/Pagination/Pagination.tsx\";\r\nimport User from \"./User.tsx\";\r\nimport {UserType} from '../../types/types'\r\n\r\ntype PropsType = {\r\n  current: number | null\r\n  defaultCount: number\r\n  defaultPage: number\r\n  disabled: number[] | []\r\n  followUser: ()=> void\r\n  isAuth: boolean\r\n  isFetching: boolean\r\n  numberOfPages: number\r\n  setUsers: ()=> void\r\n  toPage: ()=> void\r\n  unfollowUser: ()=> void\r\n  users: UserType[] | []\r\n}\r\n\r\n\r\nconst Users:React.FC<PropsType> = (props) => {\r\n  return (\r\n    <div className={s.Users}>\r\n      <h1 className={s.title}>Users</h1>\r\n      <Preloader isFetching={props.isFetching} />\r\n      <Pagination numberOfPages={props.numberOfPages} currentPage={props.current} changePage={props.toPage}/>\r\n\r\n      <div className={s.usersList}>\r\n        {props.users.map((user:UserType) => {\r\n          return (\r\n            <User\r\n              key={user.id}\r\n              user={user}\r\n              isAuth={props.isAuth}\r\n              unfollowUser={props.unfollowUser}\r\n              disabled={props.disabled}\r\n              followUser={props.followUser}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export let getCurrent = state => state.users.currentPage","import React, { useEffect } from \"react\";\r\nimport Users from \"./Users.tsx\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate, useNavigate, useParams } from \"react-router-dom\";\r\nimport {\r\n  setUsersThunk as setUsers,\r\n  followThunk as followUser,\r\n  unfollowThunk as unfollowUser,\r\n} from \"../../redux/usersReducer.ts\";\r\nimport { getCurrent } from \"../../redux/users-selectors\";\r\nimport { UserType } from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n  current: null | number;\r\n  defaultCount: number;\r\n  defaultPage: number;\r\n  disabled: number[] | [];\r\n  followUser: () => void;\r\n  isAuth: boolean;\r\n  isFetching: boolean;\r\n  numberOfPages: number;\r\n  setUsers: (urlId:number, defaultCount:number) => void;\r\n  unfollowUser: () => void;\r\n  users: UserType[] | []\r\n};\r\n\r\nconst UsersContainer = (props:PropsType) => {\r\n  console.log(props);\r\n  let changePage = useNavigate();\r\n  const urlId = parseInt(useParams()[\"*\"], 10);\r\n  useEffect(() => {\r\n    urlId &&\r\n      urlId !== props.current &&\r\n      props.setUsers(urlId, props.defaultCount);\r\n  });\r\n  return urlId ? (\r\n    <Users {...props} toPage={(page) => changePage(`${page}`)} />\r\n  ) : !props.current ? (\r\n    <Navigate to={`/users/${props.defaultPage}`} />\r\n  ) : (\r\n    <Navigate to={`/users/${props.current}`} />\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users.users,\r\n    numberOfPages: state.users.numberOfPages,\r\n    isFetching: state.users.fetchingUsers,\r\n    current: getCurrent(state),\r\n    defaultPage: state.users.defaultPage,\r\n    defaultCount: state.users.defaultCount,\r\n    disabled: state.users.disabledFollow,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setUsers,\r\n  followUser,\r\n  unfollowUser,\r\n})(UsersContainer);\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"names":["current","total","pages","i","push","numberOfPages","currentPage","changePage","useState","position","setPosition","useEffect","paginator","className","s","onClick","pos","map","page","index","cn","user","props","to","id","src","photos","large","avatar","alt","followed","isAuth","unfollowUser","disabled","includes","followUser","name","Preloader","isFetching","toPage","users","getCurrent","state","connect","fetchingUsers","defaultPage","defaultCount","disabledFollow","auth","setUsers","console","log","useNavigate","urlId","parseInt","useParams","_objectWithoutProperties","source","excluded","key","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}